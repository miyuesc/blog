---
theme: scrolls-light
highlight: a11y-dark
---

持续创作，加速成长！这是我参与「掘金日新计划 · 10 月更文挑战」的第N天，[点击查看活动详情](https://juejin.cn/post/7147654075599978532)



# 一个“非常简单”的Vue表达式编辑组件

## 前言

嗯，，，又是一个公司的需求产生的想法😓😓

为了配合后端使用的规则引擎，实现事件自动上报、状态自动更新等功能，需要在后台管理的页面上增加一个规则配置模块，其中涉及到设备属性、事件、自定义参数、且或非逻辑运算等多种配置元素。在外面找了一下没有找到符合界面设计和操作方式的开源库/组件，所以内部自己根据需求实现了一个简单的表达式编辑组件。

## 1. 需求

在经过多次讨论（撕逼）之后，与产品和后端讨论出来了以下需求：

- 支持外部配置表达式备选元素
- 支持加减乘除等简单数学计算
- 支持选择且或非、大小于之类的逻辑运算
- 支持自定义文本、数字输入
- 支持括号、验证括号匹配

> 看到括号匹配是不是就想到力扣的括号匹配算法了？😏

## 2. 设计

为了满足从外部配置新的表达式备选元素，所以肯定需要接收一个备选元素数组，并约定好特定格式；而且，为了方便用户选择，还需要单独将这一类选项进行划分。

另外的自定义文本、数字，则需要能实现表达式直接输入和更改（类似双向绑定吧），可以直观的在生成的表达式中直接输入最好。

其他的部分则可以看做是内置的特殊选项，我们一一配置即可。

## 3. 代码



## 4. 总结
