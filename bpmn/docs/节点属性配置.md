# Bpmn.js 涉及节点类型与节点属性

> 解析文件基于 camunda，flowable与activiti替换对应前缀即可

## 1. Process

见 `Root.businessObject`

1. 常规
   
    1. 编号：`id: string`
    2. 名称：`name: string`
    3. 版本：`versionTag: string`
    4. 文件状态（是否可执行）：`isExecutable: boolean`
    5. 扩展任务配置 - 任务优先级：`taskPriority: string`
    6. 工作配置 - 工作优先级：`jobPriority: string`
    7. 启动器组： `candidateStarterGroups: string` 以英文逗号隔开的字符串
    8. 启动器用户：`candidateStarterUsers: string` 以英文逗号隔开的字符串
    9. taskList配置：`isStartableInTasklist: boolean`
    10. 历史存活时间：`historyTimeToLive: string`
    11. 文档：`documentation: ModdleElement<bpmn:Documentation>[]`
2. 监听器
    1. 事件类型：start、end
    2. 监听器类型：java类、脚本、表达式、代理表达式
       - java类：java类名
       - 表达式：表达式字符串
       - 代理表达式：代理表达式字符串
       - 脚本：脚本格式，脚本类型（内联脚本 --> 脚本代码字符串；扩展资源 --> 资源地址字符串）
    3. 字段注入：
       - 名称
       - 类型：表达式、字符串
       - 值
4. 扩展属性
    - 已键值对的形式显示

> 监听器与扩展属性同时存在于 `extensionElements: ExtensionElements`中

```typescript
interface ExtensionElements {
    $type: string;
    values: ModdleElement[];
}
```



## 2. StartEvent

1. 常规

    1. 编号 `id：string`
    2. 名称 `name：string`
    3. 创建者 `initiator：string`
    4. 异步状态
       - 异步 ：`async： boolean`
       - 异步前： `asyncBefore： boolean`
       - 异步后： `asyncAfter: boolean`
       - 工作优先级： `jobPriority: string`
       - 重试时间周期： `extensionElements.valuesItem: ModdleElement<camunda:FailedJobRetryTimeCycle> `
    5. 文档：`documentation: ModdleElement<bpmn:Documentation>[]`
2. 监听器（与 `Process` 监听器一致）
    1. 事件类型：start、end
    2. 监听器类型：java类、脚本、表达式、代理表达式
        - java类：java类名
        - 表达式：表达式字符串
        - 代理表达式：代理表达式字符串
        - 脚本：脚本格式，脚本类型（内联脚本 --> 脚本代码字符串；扩展资源 --> 资源地址字符串）
    3. 字段注入：
        - 名称
        - 类型：表达式、字符串
        - 值
3. 表单
    1. 表单key：`formKey: string`
    2. 表单字段：`extensionElements.valuesItem: ModdleElement<camunda:FormData> `
       1. 字段业务key：`businessKey: string`
       2. 字段列表：`fields：ModdleElement<camunda:FormField>[]`
4. 扩展属性（与 `Process` 扩展属性一致）